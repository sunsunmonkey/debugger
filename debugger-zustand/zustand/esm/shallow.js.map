{"version":3,"file":"shallow.js","sources":["../../src/vanilla/shallow.ts","../../src/shallow.ts"],"sourcesContent":["export function shallow<T>(objA: T, objB: T) {\n  if (Object.is(objA, objB)) {\n    return true\n  }\n  if (\n    typeof objA !== 'object' ||\n    objA === null ||\n    typeof objB !== 'object' ||\n    objB === null\n  ) {\n    return false\n  }\n\n  if (objA instanceof Map && objB instanceof Map) {\n    if (objA.size !== objB.size) return false\n\n    for (const [key, value] of objA) {\n      if (!Object.is(value, objB.get(key))) {\n        return false\n      }\n    }\n    return true\n  }\n\n  if (objA instanceof Set && objB instanceof Set) {\n    if (objA.size !== objB.size) return false\n\n    for (const value of objA) {\n      if (!objB.has(value)) {\n        return false\n      }\n    }\n    return true\n  }\n\n  const keysA = Object.keys(objA)\n  if (keysA.length !== Object.keys(objB).length) {\n    return false\n  }\n  for (let i = 0; i < keysA.length; i++) {\n    if (\n      !Object.prototype.hasOwnProperty.call(objB, keysA[i] as string) ||\n      !Object.is(objA[keysA[i] as keyof T], objB[keysA[i] as keyof T])\n    ) {\n      return false\n    }\n  }\n  return true\n}\n","import { shallow } from './vanilla/shallow.ts'\n\n// We will export this in v5 and remove default export\n// export { shallow } from './vanilla/shallow.ts'\n// export { useShallow } from './react/shallow.ts'\n\n/**\n * @deprecated Use `import { shallow } from 'zustand/shallow'`\n */\nexport default ((objA, objB) => {\n  if (import.meta.env?.MODE !== 'production') {\n    console.warn(\n      \"[DEPRECATED] Default export is deprecated. Instead use `import { shallow } from 'zustand/shallow'`.\",\n    )\n  }\n  return shallow(objA, objB)\n}) as typeof shallow\n\nexport { shallow }\n"],"names":["shallow"],"mappings":"AAAgB,SAAAA,SAAA,CAAW,MAAS,IAAS,EAAA;AAC3C,EAAA,IAAI,MAAO,CAAA,EAAA,CAAG,IAAM,EAAA,IAAI,CAAG,EAAA;AACzB,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AACA,EACE,IAAA,OAAO,SAAS,QAChB,IAAA,IAAA,KAAS,QACT,OAAO,IAAA,KAAS,QAChB,IAAA,IAAA,KAAS,IACT,EAAA;AACA,IAAO,OAAA,KAAA,CAAA;AAAA,GACT;AAEA,EAAI,IAAA,IAAA,YAAgB,GAAO,IAAA,IAAA,YAAgB,GAAK,EAAA;AAC9C,IAAI,IAAA,IAAA,CAAK,SAAS,IAAK,CAAA,IAAA;AAAM,MAAO,OAAA,KAAA,CAAA;AAEpC,IAAA,KAAA,MAAW,CAAC,GAAA,EAAK,KAAK,CAAA,IAAK,IAAM,EAAA;AAC/B,MAAI,IAAA,CAAC,OAAO,EAAG,CAAA,KAAA,EAAO,KAAK,GAAI,CAAA,GAAG,CAAC,CAAG,EAAA;AACpC,QAAO,OAAA,KAAA,CAAA;AAAA,OACT;AAAA,KACF;AACA,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AAEA,EAAI,IAAA,IAAA,YAAgB,GAAO,IAAA,IAAA,YAAgB,GAAK,EAAA;AAC9C,IAAI,IAAA,IAAA,CAAK,SAAS,IAAK,CAAA,IAAA;AAAM,MAAO,OAAA,KAAA,CAAA;AAEpC,IAAA,KAAA,MAAW,SAAS,IAAM,EAAA;AACxB,MAAA,IAAI,CAAC,IAAA,CAAK,GAAI,CAAA,KAAK,CAAG,EAAA;AACpB,QAAO,OAAA,KAAA,CAAA;AAAA,OACT;AAAA,KACF;AACA,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AAEA,EAAM,MAAA,KAAA,GAAQ,MAAO,CAAA,IAAA,CAAK,IAAI,CAAA,CAAA;AAC9B,EAAA,IAAI,MAAM,MAAW,KAAA,MAAA,CAAO,IAAK,CAAA,IAAI,EAAE,MAAQ,EAAA;AAC7C,IAAO,OAAA,KAAA,CAAA;AAAA,GACT;AACA,EAAA,KAAA,IAAS,CAAI,GAAA,CAAA,EAAG,CAAI,GAAA,KAAA,CAAM,QAAQ,CAAK,EAAA,EAAA;AACrC,IACE,IAAA,CAAC,OAAO,SAAU,CAAA,cAAA,CAAe,KAAK,IAAM,EAAA,KAAA,CAAM,CAAC,CAAW,CAC9D,IAAA,CAAC,OAAO,EAAG,CAAA,IAAA,CAAK,KAAM,CAAA,CAAC,CAAY,CAAA,EAAG,KAAK,KAAM,CAAA,CAAC,CAAY,CAAC,CAC/D,EAAA;AACA,MAAO,OAAA,KAAA,CAAA;AAAA,KACT;AAAA,GACF;AACA,EAAO,OAAA,IAAA,CAAA;AACT;;ACvCA,cAAgB,CAAC,MAAM,IAAS,KAAA;AAC9B,EAAI,IAAA,OAAA,kBAA0B,YAAc,EAAA;AAC1C,IAAQ,OAAA,CAAA,IAAA;AAAA,MACN,qGAAA;AAAA,KACF,CAAA;AAAA,GACF;AACA,EAAO,OAAAA,SAAA,CAAQ,MAAM,IAAI,CAAA,CAAA;AAC3B,CAAA;;;;"}